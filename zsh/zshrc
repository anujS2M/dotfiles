# To use this zshrc as your default zshrc file, create a symlink of this file
# in your home folder. Just create  a symlink of the zshrc file and it will
# source the other files on it's own. The command usually looks like
# ln -s ~/Personal/dotfiles/zsh/zshrc ~/.zshrc

export TERM="xterm-256color"

ZSH_THEME="powerlevel9k/powerlevel9k"

os=$(sw_vers -productName 2>/dev/null)
if [ "$os" = "Mac OS X" ]; then
  export isMacOS=true
else
  export isMacOS=false
fi

if type brew &>/dev/null; then
  FPATH=$(brew --prefix)/share/zsh/site-functions:$FPATH
fi

# Check if the OS is MAC or Linux
if [ "$isMacOS" = true ]; then
  # Get the absolute path of the symlinked zshrc to read the other rc files
  ABSOLUTE_FILE_PATH="$(readlink /Users/$(whoami)/.zshrc)"
  FILE_DIR=${ABSOLUTE_FILE_PATH%??????}
  export ZSH="/Users/$(whoami)/.oh-my-zsh" # Path to your oh-my-zsh installation.
  source $(echo $FILE_DIR)/macosrc
else
  # Get the absolute path of the symlinked zshrc to read the other rc files
  ABSOLUTE_FILE_PATH="$(readlink -f /home/$(whoami)/.zshrc)"
  FILE_DIR=${ABSOLUTE_FILE_PATH%??????}
  export ZSH="/home/$(whoami)/.oh-my-zsh" # Path to your oh-my-zsh installation.
  source $(echo $FILE_DIR)/linuxrc
fi

source $(echo $FILE_DIR)/pathrc
source $(echo $FILE_DIR)/powerlevel9krc

ENABLE_CORRECTION="true"

plugins=(git zsh-autosuggestions z zsh-syntax-highlighting zsh-completions)
autoload -U compinit && compinit

source $ZSH/oh-my-zsh.sh

export LANG=en_US.UTF-8

BASE16_SHELL="$HOME/.config/base16-shell/"
[ -n "$PS1" ] && \
    [ -s "$BASE16_SHELL/profile_helper.sh" ] && \
        eval "$("$BASE16_SHELL/profile_helper.sh")"

# Set personal aliases, overriding those provided by oh-my-zsh libs,
# plugins, and themes. Aliases can be placed here, though oh-my-zsh
# users are encouraged to define aliases within the ZSH_CUSTOM folder.
# For a full list of active aliases, run `alias`.

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

# Prevent zsh from showing the system name before each command
prompt_context () { }

# ZSH completions for Alacritty
fpath+=${ZDOTDIR:-~}/.zsh_functions

# Disable that pesky auto correct
unsetopt correct_all

source $(echo $FILE_DIR)/common_aliasrc
source $(echo $FILE_DIR)/secretsrc

# Add RVM to PATH for scripting. Make sure this is the last PATH variable change.
# export PATH="$PATH:$HOME/.rvm/bin"
